---
layout: default
title: 购买服务器和域名绑定
---


从这一集开始，咱们就要把代码部署到服务器上了。首先肯定是先要有服务器了，然后再去申请一个域名，跟这个服务器绑定，这集就来聊这些内容。


### 用国内的服务器的需要域名备案

国内的服务我自己最喜欢的是阿里系统，其他的其实我也没怎么用过。也就是在阿里云申请云主机，很便宜啊，然后在万网注册域名。不过用国内的主机基本上是绕不过备案这一步了，
在 [万网首页](http://www.net.cn/) ，右上角可以看到 “备案专区” 的链接。以前没有阿里提供的备案服务的时候，备案据说是相当麻烦，很多时候都要求本人去现场照相。
现在阿里这边能省去一些步骤，而且也不用肉身到场照相了，阿里会寄过来一个背景，我们那次就是贴到自己家墙上找个照片然后给他们发过去就行了。总体来说还是挺烦人的，我们
那会儿整个过程下来大概是两三周的时间，不过那是13年，现在也许会更高效一些了。

如果你暂时还确定自己是否需要备案，有一个取巧的办法，就是可以先在国外申请服务器和域名，未来如果非要备案不可，国外注册的域名一样可以在国内备案的，我自己就这样弄过。
比直接在国内备案的域名一点儿也不多费事。所以下面演示部分就以国外的服务为例了。

### 在 digitalocean 申请服务器

国外卖虚拟主机 vps 的网站有两个是非常著名的，一个是 linode，另一个是 digitalocean/DO 。如果你很在意速度，那 linode 的东京机房是首选，不过国内用还是跟阿里云差很远。
好在很多时候，连接速度不构成瓶颈。比如我自己的 happycasts.net 目前用的是 DO 的美国那边的机房，我自己感觉网页访问速度也是可以的，上面的视频都放在了国内的 CDN 服务
qiniu.com 上了。说到这里再来提一下你可能比较关心的问题，就是服务器在国外，有没有可能被墙呢？当然不敢说没有可能，但是我自己有几个域名都用了三四年了，一直没有问题。几年中发生过一两次
IP 没办法访问的情况，这样换个主机和 IP 就又恢复了，问题不大。

这里我以 DO 来演示后续所有操作。跑 Rails 应用还是不要选最低配的了，推荐选择1G内存的套餐。可惜，DO 和 linode 目前都只支持信用卡支付，很多本科在校生是没有信用卡的。

### 域名绑定

域名注册也有很多选择，比较大的一个网站就是 https://www.godaddy.com/ 。我自己的大部分域名都在 domain.com 上面。


如何绑定域名 [有一篇 DO 的文章可以参考](https://www.digitalocean.com/community/tutorials/how-to-set-up-a-host-name-with-digitalocean) 。

进入 domain.com 的 domaincentral ，找到自己的域名，点开，找到 nameservers 这一项，这里原有的域名服务器就是 domain.com 自己的，如果不改，那么就可以到跟
nameservers 平级的 dns 这一项下面去设置域名了。但是我的习惯是吧域名服务器改成 digitalocean 的，这样 dns 的设置你在这里设置就无效了，而要去 DO 网站上设置了。
改好 nameservers 之后，点击 save，这个设置可能要等一天左右的时间才能生效。

使用 happypeter.org 为例子。
